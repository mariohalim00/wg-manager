# Copilot Commit Message Instructions

(not working properly idk why it generates a long-ass message)

## Purpose

Generate **clear, accurate, and minimal commit messages** that reflect _what actually changed and why_, without restating specs, tasks, or obvious diffs.

Commit messages are part of the **project’s long-term memory**. They should help future humans and AI understand intent, constraints, and tradeoffs — not just mechanics.

---

## General Rules

- Be **concise but informative**
- Prefer **intent and impact** over implementation detail
- Do NOT restate:
  - Spec text
  - Ticket titles
  - File diffs line-by-line
- Do NOT invent rationale that is not evident from code or context
- Do NOT use vague messages like:
  - "fix stuff"
  - "updates"
  - "changes"
  - "wip"
- still adhere toi the conventional mcommit message format

---

## Structure

Use the following structure unless explicitly told otherwise:

```
<type>: <short summary>

<context (optional)>
<reasoning or constraint (optional)>
```

### Example

fix: prevent duplicate settlement for concurrent requests

Settlement was previously idempotent only at the API layer.
This change enforces the invariant at the database level to
avoid race conditions under load.

---

## Commit Types (preferred)

Use one of the following prefixes when applicable:

- `feat:` – new user-facing behavior
- `fix:` – bug fix or correctness issue
- `refactor:` – structural change without behavior change
- `perf:` – performance improvement
- `test:` – tests only
- `docs:` – documentation only
- `chore:` – tooling, formatting, maintenance
- `infra:` – build, CI, deployment, environment

If none apply cleanly, omit the prefix rather than guessing.

---
