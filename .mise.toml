[tools]
node = "lts"
go = "latest"

[tasks]
"fe:dev" = "npm run dev"
"fe:build" = "npm run build"
"fe:preview" = "npm run preview"
"fe:check" = "npm run check"
"fe:lint" = "npm run lint"
"fe:format" = "npm run format"
"be:build" = "cd backend && go build -o ../bin/wg-manager ./cmd/server"
"be:run" = "cd backend && go run ./cmd/server/main.go"
"be:test" = "cd backend && go test ./... -v"
"be:test:coverage" = "cd backend && go test ./... -coverprofile=coverage.out && go tool cover -html=coverage.out"
"be:lint" = "cd backend && go vet ./... && go fmt ./..."
"be:deps" = "cd backend && go mod download"
"be:tidy" = "cd backend && go mod tidy"
"dev" = "echo 'Run fe:dev and be:run in separate terminals'"
"build" = "mise run fe:build && mise run be:build"
"test" = "mise run be:test"
"lint" = "mise run fe:lint && mise run be:lint"
"format" = "npm run format"
"install" = "npm install && cd backend && go mod download"
"clean" = "rm -rf .svelte-kit build bin backend/coverage.out"
